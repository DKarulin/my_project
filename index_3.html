<!Doctype html>
<html lang = "en">
<head>
    <meta charset="UTF-8">
    <title>JS VUE</title>
</head>
<body>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<div id="app"  >


<table class ="table" v-if = "condition" >
    <tr v-for ="(item,index) in list " v-bind:key="item.id">
        <td>{{item.id}}</td>
        <td>{{item.name}}</td>
        <td>{{item.username}}</td>
        <td>{{item.email}}</td>
        <td>{{item.phone}}</td>
        <td>{{item.website}}</td>


    </tr>
</table>

    <button class="button" v-on:click="HideTable" >
        {{buttonText}}
    </button>





</div>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
    window.app = new Vue({
        el:'#app',
        computed: {
            buttonText: function () {
                return this.condition ? 'Скрыть' : 'Загрузить'
            }
        },
        watch:{
            condition:{
                deep:true,
                immediate: true,
                handler:'conditionChange'
            }
        },
            data: function () {
                return {
                    list: [
                        {
                            "id": 0,
                            "name": "Leanne Graham",
                            "username": "Bret",
                            "email": "Sincere@april.biz",
                            "phone": "1-770-736-8031 x56442",
                            "website": "hildegard.org",

                        },
                        {
                            "id": 1,
                            "name": "Ervin Howell",
                            "username": "Antonette",
                            "email": "Shanna@melissa.tv",
                            "phone": "010-692-6593 x09125",
                            "website": "anastasia.net",

                        },
                        {
                            "id": 2,
                            "name": "Clementine Bauch",
                            "username": "Samantha",
                            "email": "Nathan@yesenia.net",
                            "phone": "1-463-123-4447",
                            "website": "ramiro.info",

                        },
                        {
                            "id": 3,
                            "name": "Patricia Lebsack",
                            "username": "Karianne",
                            "email": "Julianne.OConner@kory.org",
                            "phone": "493-170-9623 x156",
                            "website": "kale.biz",
                        },

                    ],
                    condition: true,
                }
            },
            methods: {

                HideTable: function () {
                    if (this.condition == true) {
                        return this.condition = false
                    } else {
                        return this.condition = true
                    }
                },
                conditionChange:function () {
                    if (this.condition == true){
                    return console.log('Совершена загрузка')
                    }
                },


            }

    })

</script>


</body>
</html>
